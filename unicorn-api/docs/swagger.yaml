basePath: /
definitions:
  errors.AppError:
    properties:
      code:
        type: string
      details:
        type: string
      message:
        type: string
      status_code:
        type: integer
      timestamp:
        type: string
    type: object
  handlers.AssignRoleRequest:
    properties:
      account_id:
        description: |-
          The ID of the account to assign the role to
          example: 123e4567-e89b-12d3-a456-426614174000
        type: string
      role_id:
        description: |-
          The ID of the role to assign
          example: 123e4567-e89b-12d3-a456-426614174000
        type: string
    required:
    - account_id
    - role_id
    type: object
  handlers.AssignRoleResponse:
    properties:
      account_id:
        description: |-
          The ID of the account
          example: 123e4567-e89b-12d3-a456-426614174000
        type: string
      message:
        description: |-
          Success message
          example: Role assigned successfully
        type: string
      role_id:
        description: |-
          The ID of the role
          example: 123e4567-e89b-12d3-a456-426614174000
        type: string
    type: object
  handlers.CreateBucketRequest:
    description: Request to create a new storage bucket
    properties:
      name:
        description: |-
          The name of the bucket
          example: my-bucket
        type: string
    required:
    - name
    type: object
  handlers.CreateOrganizationRequest:
    properties:
      name:
        description: |-
          The name of the organization
          example: Acme Corporation
        type: string
    required:
    - name
    type: object
  handlers.CreateOrganizationResponse:
    properties:
      message:
        description: |-
          Success message
          example: Organization created successfully
        type: string
      organization:
        allOf:
        - $ref: '#/definitions/models.Organization'
        description: The created organization
    type: object
  handlers.CreateRoleRequest:
    properties:
      name:
        description: |-
          The name of the role (e.g., admin, user, moderator)
          example: admin
        type: string
      permissions:
        description: |-
          The permissions assigned to the role (0=Read, 1=Write, 2=Delete)
          example: [0,1,2]
        items:
          $ref: '#/definitions/models.Permission'
        type: array
    required:
    - name
    - permissions
    type: object
  handlers.CreateRoleResponse:
    properties:
      message:
        description: |-
          Success message
          example: Role created successfully
        type: string
      role:
        allOf:
        - $ref: '#/definitions/models.Role'
        description: The created role
    type: object
  handlers.CreateUserRequest:
    properties:
      email:
        description: |-
          The email address of the user (must be unique)
          example: john.doe@example.com
        type: string
      name:
        description: |-
          The display name of the user
          example: John Doe
        type: string
      password:
        description: |-
          The password for the user account (will be hashed)
          example: securePassword123
        minLength: 8
        type: string
      role_id:
        description: |-
          The ID of the role to assign to the user
          example: 123e4567-e89b-12d3-a456-426614174000
        type: string
    required:
    - email
    - name
    - password
    - role_id
    type: object
  handlers.CreateUserResponse:
    properties:
      account:
        allOf:
        - $ref: '#/definitions/models.Account'
        description: The created user account
      message:
        description: |-
          Success message
          example: User created successfully
        type: string
    type: object
  handlers.ErrorResponse:
    properties:
      details:
        description: |-
          Additional error details
          example: Field 'email' is required
        type: string
      error:
        description: |-
          The error message
          example: Invalid request
        type: string
      status_code:
        description: |-
          The HTTP status code
          example: 400
        type: integer
      timestamp:
        description: |-
          The timestamp when the error occurred
          example: 2024-01-01T12:00:00Z
        type: string
    type: object
  handlers.GetOrganizationsResponse:
    properties:
      organization_name:
        type: string
      users:
        items:
          $ref: '#/definitions/handlers.OrganizationUser'
        type: array
    type: object
  handlers.GetRolesResponse:
    properties:
      roles:
        items:
          $ref: '#/definitions/models.Role'
        type: array
    type: object
  handlers.HealthCheckResponse:
    properties:
      details:
        additionalProperties: true
        description: |-
          Additional health information
          example: {"database":"connected","redis":"connected"}
        type: object
      status:
        description: |-
          The health status of the API
          example: healthy
        type: string
      timestamp:
        description: |-
          The timestamp when the health check was performed
          example: 2024-01-01T12:00:00Z
        type: string
      version:
        description: |-
          The version of the API
          example: 1.0.0
        type: string
    type: object
  handlers.LoginRequest:
    properties:
      email:
        description: |-
          The email address of the user
          example: john.doe@example.com
        type: string
      password:
        description: |-
          The password for the user account
          example: securePassword123
        type: string
    required:
    - email
    - password
    type: object
  handlers.LoginResponse:
    properties:
      expires_at:
        description: |-
          The expiration time of the token
          example: 2024-01-01T12:00:00Z
        type: string
      message:
        description: |-
          Success message
          example: Login successful
        type: string
      token:
        description: |-
          The JWT token for authentication
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50X2lkIjoiMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwIiwicm9sZV9pZCI6IjEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCIsImV4cCI6MTcwNDE2ODAwMH0.example_signature
        type: string
      token_type:
        description: |-
          The type of token
          example: Bearer
        type: string
    type: object
  handlers.OrganizationUser:
    properties:
      id:
        type: string
      name:
        type: string
      role_id:
        type: string
    type: object
  handlers.RefreshTokenRequest:
    properties:
      token:
        description: |-
          The JWT token to refresh
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50X2lkIjoiMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwIiwicm9zZV9pZCI6IjEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCIsImV4cCI6MTcwNDE2ODAwMH0.example_signature
        type: string
    required:
    - token
    type: object
  handlers.RefreshTokenResponse:
    properties:
      expires_at:
        description: |-
          The expiration time of the token
          example: 2024-01-01T12:00:00Z
        type: string
      message:
        description: |-
          Success message
          example: Token refreshed successfully
        type: string
      token:
        description: |-
          The new JWT token
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhY2NvdW50X2lkIjoiMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwIiwicm9zZV9pZCI6IjEyM2U0NTY3LWU4OWItMTJkMy1hNDU2LTQyNjYxNDE3NDAwMCIsImV4cCI6MTcwNDE2ODAwMH0.new_signature
        type: string
      token_type:
        description: |-
          The type of token
          example: Bearer
        type: string
    type: object
  handlers.TokenClaimsResponse:
    properties:
      account_id:
        description: |-
          The account ID
          example: 123e4567-e89b-12d3-a456-426614174000
        type: string
      expires_at:
        description: |-
          The token expiration time
          example: 2024-01-01T12:00:00Z
        type: string
      role_id:
        description: |-
          The role ID
          example: 123e4567-e89b-12d3-a456-426614174000
        type: string
    type: object
  handlers.ValidateTokenResponse:
    properties:
      claims:
        allOf:
        - $ref: '#/definitions/handlers.TokenClaimsResponse'
        description: The token claims
      message:
        description: |-
          Success message
          example: Token is valid
        type: string
      valid:
        description: |-
          Whether the token is valid
          example: true
        type: boolean
    type: object
  models.Account:
    properties:
      created_at:
        description: |-
          The creation timestamp
          example: 2024-01-01T12:00:00Z
        type: string
      email:
        description: |-
          The email address (required for user accounts, unique)
          example: john.doe@example.com
        type: string
      id:
        description: |-
          The unique ID of the account
          example: 123e4567-e89b-12d3-a456-426614174000
        type: string
      last_login_at:
        description: |-
          Token related (JWT) - last successful login timestamp
          example: 2024-01-01T12:00:00Z
        type: string
      name:
        description: |-
          The display name of the account
          example: John Doe
        type: string
      organization:
        allOf:
        - $ref: '#/definitions/models.Organization'
        description: |-
          GORM Associations
          The organization this account belongs to
      organization_id:
        description: |-
          Foreign Keys
          The ID of the organization this account belongs to
          example: 123e4567-e89b-12d3-a456-426614174000
        type: string
      role:
        allOf:
        - $ref: '#/definitions/models.Role'
        description: The role assigned to this account
      role_id:
        description: |-
          The ID of the role assigned to this account
          example: 123e4567-e89b-12d3-a456-426614174000
        type: string
      type:
        allOf:
        - $ref: '#/definitions/models.AccountType'
        description: |-
          The type of account (user or bot)
          example: user
      updated_at:
        description: |-
          The last update timestamp
          example: 2024-01-01T12:00:00Z
        type: string
    type: object
  models.AccountType:
    enum:
    - user
    - bot
    type: string
    x-enum-comments:
      AccountTypeBot: Automated service account
      AccountTypeUser: Human user account
    x-enum-descriptions:
    - Human user account
    - Automated service account
    x-enum-varnames:
    - AccountTypeUser
    - AccountTypeBot
  models.BillingPeriod:
    properties:
      compute_cost:
        description: Breakdown by resource type
        type: number
      created_at:
        description: The creation timestamp
        type: string
      currency:
        description: The currency for billing
        type: string
      id:
        description: The unique ID of the billing period
        type: string
      is_paid:
        description: Whether the bill has been paid
        type: boolean
      lambda_cost:
        type: number
      organization:
        allOf:
        - $ref: '#/definitions/models.Organization'
        description: GORM Associations
      organization_id:
        description: The ID of the organization
        type: string
      paid_at:
        description: The date when the bill was paid
        type: string
      payment_method:
        description: The payment method used
        type: string
      period_end:
        description: The end of the billing period
        type: string
      period_start:
        description: The start of the billing period
        type: string
      rdb_cost:
        type: number
      secret_cost:
        type: number
      storage_cost:
        type: number
      total_cost:
        description: The total cost for the period
        type: number
      transaction_id:
        description: The transaction ID for the payment
        type: string
      updated_at:
        description: The last update timestamp
        type: string
    type: object
  models.ComputeContainerInfo:
    properties:
      created_at:
        type: string
      id:
        type: string
      image:
        type: string
      name:
        type: string
      ports:
        additionalProperties:
          type: string
        type: object
      status:
        type: string
      updated_at:
        type: string
    type: object
  models.ComputeCreateRequest:
    properties:
      command:
        items:
          type: string
        type: array
      environment:
        additionalProperties:
          type: string
        type: object
      expose_port:
        type: string
      image:
        type: string
      name:
        type: string
      ports:
        additionalProperties:
          type: string
        type: object
      preset:
        $ref: '#/definitions/models.ComputePreset'
    required:
    - image
    type: object
  models.ComputePreset:
    enum:
    - micro
    - small
    type: string
    x-enum-varnames:
    - PresetMicro
    - PresetSmall
  models.File:
    description: A file stored in a storage bucket.
    properties:
      content_type:
        description: The MIME type of the file
        type: string
      contents:
        description: The file contents (base64 or text)
        type: string
      created_at:
        description: The creation timestamp
        type: string
      id:
        description: The unique identifier of the file
        type: string
      name:
        description: The name of the file
        type: string
      size:
        description: The size of the file in bytes
        type: integer
      storage_bucket_id:
        description: The ID of the bucket this file belongs to
        type: string
      updated_at:
        description: The last update timestamp
        type: string
    type: object
  models.LambdaExecuteRequest:
    properties:
      process:
        $ref: '#/definitions/models.LambdaProcessInfo'
      project:
        properties:
          entry:
            example: |-
              import utils
              print(utils.add(1,2))
            type: string
          files:
            items:
              $ref: '#/definitions/models.LambdaFile'
            type: array
        required:
        - files
        type: object
      runtime:
        properties:
          name:
            example: python3
            type: string
          version:
            example: "3.12"
            type: string
        required:
        - name
        type: object
    type: object
  models.LambdaExecuteResponse:
    properties:
      output:
        example: |
          3
        type: string
      runtime:
        example: python3
        type: string
      status:
        example: success
        type: string
      time:
        example: 0.023s
        type: string
    type: object
  models.LambdaFile:
    properties:
      contents:
        example: "def add(a, b):\n\treturn a + b"
        type: string
      name:
        example: utils.py
        type: string
    required:
    - contents
    - name
    type: object
  models.LambdaPermissions:
    properties:
      network:
        example: false
        type: boolean
      read:
        example: true
        type: boolean
      write:
        example: false
        type: boolean
    type: object
  models.LambdaProcessInfo:
    properties:
      env:
        additionalProperties:
          type: string
        example:
          '{"DEBUG"': '"true"}'
        type: object
      max_opened_files:
        example: 10
        type: integer
      max_processes:
        example: 5
        type: integer
      permissions:
        $ref: '#/definitions/models.LambdaPermissions'
      stdin:
        example: test input
        type: string
      time:
        example: 2s
        type: string
    type: object
  models.MonitoringMetrics:
    properties:
      cpu_usage:
        description: |-
          Real-time metrics
          Current CPU usage
        type: number
      created_at:
        description: The creation timestamp
        type: string
      error_rate:
        description: Current error rate (errors per second)
        type: number
      health_status:
        description: Health check status
        type: string
      id:
        description: The unique ID of the metrics record
        type: string
      last_health_check:
        description: Last health check timestamp
        type: string
      memory_usage:
        description: Current memory usage
        type: number
      network_usage:
        description: Current network usage
        type: number
      organization:
        allOf:
        - $ref: '#/definitions/models.Organization'
        description: GORM Associations
      organization_id:
        description: The ID of the organization
        type: string
      request_rate:
        description: Current request rate (requests per second)
        type: number
      resource_id:
        description: The unique identifier of the resource
        type: string
      resource_type:
        allOf:
        - $ref: '#/definitions/models.ResourceType'
        description: The type of resource
      response_time:
        description: Current response time in milliseconds
        type: number
      status:
        allOf:
        - $ref: '#/definitions/models.ResourceStatus'
        description: |-
          Status information
          Current status of the resource
      storage_usage:
        description: Current storage usage
        type: number
    type: object
  models.MonthlyUsageTrend:
    properties:
      month:
        type: string
      resources:
        type: integer
      total_cost:
        type: number
    type: object
  models.Organization:
    properties:
      accounts:
        description: |-
          An organization can have many accounts
          example: [{"id":"123e4567-e89b-12d3-a456-426614174000","name":"John Doe","email":"john@acme.com","type":"user"}]
        items:
          $ref: '#/definitions/models.Account'
        type: array
      created_at:
        description: |-
          The creation timestamp
          example: 2024-01-01T12:00:00Z
        type: string
      id:
        description: |-
          The unique ID of the organization
          example: 123e4567-e89b-12d3-a456-426614174000
        type: string
      name:
        description: |-
          The name of the organization (unique)
          example: Acme Corporation
        type: string
      updated_at:
        description: |-
          The last update timestamp
          example: 2024-01-01T12:00:00Z
        type: string
    type: object
  models.Permission:
    enum:
    - 0
    - 1
    - 2
    type: integer
    x-enum-comments:
      Delete: Delete permission (2)
      Read: Read permission (0)
      Write: Write permission (1)
    x-enum-descriptions:
    - Read permission (0)
    - Write permission (1)
    - Delete permission (2)
    x-enum-varnames:
    - Read
    - Write
    - Delete
  models.RDBCreateRequest:
    properties:
      database:
        type: string
      environment:
        additionalProperties:
          type: string
        type: object
      name:
        type: string
      password:
        type: string
      port:
        type: string
      preset:
        $ref: '#/definitions/models.RDBPreset'
      type:
        $ref: '#/definitions/models.RDBType'
      username:
        type: string
      volumes:
        items:
          $ref: '#/definitions/models.RDBVolume'
        type: array
    required:
    - type
    type: object
  models.RDBInstanceInfo:
    properties:
      created_at:
        type: string
      database:
        type: string
      environment:
        additionalProperties:
          type: string
        type: object
      host:
        type: string
      id:
        type: string
      name:
        type: string
      port:
        type: string
      status:
        type: string
      type:
        $ref: '#/definitions/models.RDBType'
      updated_at:
        type: string
      username:
        type: string
      volumes:
        items:
          $ref: '#/definitions/models.RDBVolume'
        type: array
    type: object
  models.RDBPreset:
    enum:
    - micro
    - small
    - medium
    type: string
    x-enum-varnames:
    - RDBPresetMicro
    - RDBPresetSmall
    - RDBPresetMedium
  models.RDBType:
    enum:
    - postgresql
    - mysql
    type: string
    x-enum-varnames:
    - RDBTypePostgreSQL
    - RDBTypeMySQL
  models.RDBVolume:
    properties:
      name:
        type: string
      size:
        description: Size in MB
        minimum: 1
        type: integer
    required:
    - name
    - size
    type: object
  models.ResourceStatus:
    enum:
    - active
    - inactive
    - deleted
    type: string
    x-enum-varnames:
    - ResourceStatusActive
    - ResourceStatusInactive
    - ResourceStatusDeleted
  models.ResourceType:
    enum:
    - compute
    - lambda
    - storage
    - rdb
    - secret
    type: string
    x-enum-varnames:
    - ResourceTypeCompute
    - ResourceTypeLambda
    - ResourceTypeStorage
    - ResourceTypeRDB
    - ResourceTypeSecret
  models.ResourceUsage:
    properties:
      account:
        allOf:
        - $ref: '#/definitions/models.Account'
        description: GORM Associations
      account_id:
        description: The ID of the account that owns this resource
        type: string
      configuration:
        description: |-
          Additional metadata
          Resource configuration (JSON)
        type: string
      cost_per_hour:
        description: |-
          Billing information
          Cost per hour in USD
        type: number
      cpu_usage:
        description: |-
          Usage metrics
          CPU usage in percentage (0-100)
        type: number
      created_at:
        description: The creation timestamp
        type: string
      currency:
        description: 'Currency for billing (default: USD)'
        type: string
      execution_time:
        description: Execution time in seconds
        type: number
      id:
        description: The unique ID of the usage record
        type: string
      last_active_at:
        description: When the resource was last active
        type: string
      last_updated_at:
        description: When this usage record was last updated
        type: string
      memory_usage:
        description: Memory usage in MB
        type: number
      network_usage:
        description: Network usage in MB
        type: number
      notes:
        description: Notes or comments
        type: string
      organization:
        $ref: '#/definitions/models.Organization'
      organization_id:
        description: The ID of the organization this account belongs to
        type: string
      request_count:
        description: Number of requests/executions
        type: integer
      resource_created_at:
        description: |-
          Timestamps for usage tracking
          When the resource was created
        type: string
      resource_id:
        description: The unique identifier of the resource
        type: string
      resource_name:
        description: The name of the resource
        type: string
      resource_type:
        allOf:
        - $ref: '#/definitions/models.ResourceType'
        description: The type of resource (compute, lambda, storage, rdb, secret)
      status:
        allOf:
        - $ref: '#/definitions/models.ResourceStatus'
        description: The current status of the resource
      storage_usage:
        description: Storage usage in MB
        type: number
      tags:
        description: Resource tags (JSON)
        type: string
      total_cost:
        description: Total cost for this usage period
        type: number
      updated_at:
        description: The last update timestamp
        type: string
    type: object
  models.ResourceUsageHistory:
    properties:
      account:
        allOf:
        - $ref: '#/definitions/models.Account'
        description: GORM Associations
      account_id:
        description: The ID of the account that owns this resource
        type: string
      avg_cpu_usage:
        description: |-
          Historical metrics
          Average CPU usage for the period
        type: number
      avg_memory_usage:
        description: Average memory usage for the period
        type: number
      created_at:
        description: The creation timestamp
        type: string
      currency:
        description: Currency for billing
        type: string
      duration_hours:
        description: Duration in hours
        type: number
      id:
        description: The unique ID of the history record
        type: string
      organization:
        $ref: '#/definitions/models.Organization'
      organization_id:
        description: The ID of the organization this account belongs to
        type: string
      peak_cpu_usage:
        description: Peak CPU usage for the period
        type: number
      peak_memory_usage:
        description: Peak memory usage for the period
        type: number
      period_end:
        description: End of the period
        type: string
      period_start:
        description: |-
          Time period
          Start of the period
        type: string
      resource_id:
        description: The unique identifier of the resource
        type: string
      resource_name:
        description: The name of the resource
        type: string
      resource_type:
        allOf:
        - $ref: '#/definitions/models.ResourceType'
        description: The type of resource
      total_cost:
        description: |-
          Billing information
          Total cost for the period
        type: number
      total_execution_time:
        description: Total execution time for the period
        type: number
      total_network_usage:
        description: Total network usage for the period
        type: number
      total_requests:
        description: Total requests for the period
        type: integer
      total_storage_usage:
        description: Total storage usage for the period
        type: number
    type: object
  models.ResourceUsageRequest:
    properties:
      configuration:
        description: Optional metadata
        type: string
      cost_per_hour:
        description: Optional billing
        type: number
      cpu_usage:
        description: Optional metrics
        type: number
      currency:
        type: string
      execution_time:
        type: number
      memory_usage:
        type: number
      network_usage:
        type: number
      notes:
        type: string
      request_count:
        type: integer
      resource_id:
        type: string
      resource_name:
        type: string
      resource_type:
        $ref: '#/definitions/models.ResourceType'
      status:
        $ref: '#/definitions/models.ResourceStatus'
      storage_usage:
        type: number
      tags:
        type: string
    required:
    - resource_id
    - resource_name
    - resource_type
    - status
    type: object
  models.ResourceUsageResponse:
    properties:
      billing_period:
        $ref: '#/definitions/models.BillingPeriod'
      current_usage:
        $ref: '#/definitions/models.ResourceUsage'
      historical_usage:
        items:
          $ref: '#/definitions/models.ResourceUsageHistory'
        type: array
      metrics:
        $ref: '#/definitions/models.MonitoringMetrics'
      summary:
        $ref: '#/definitions/models.ResourceUsageSummary'
    type: object
  models.ResourceUsageSummary:
    properties:
      active_resources:
        type: integer
      cost_by_type:
        additionalProperties:
          format: float64
          type: number
        type: object
      currency:
        type: string
      monthly_trend:
        items:
          $ref: '#/definitions/models.MonthlyUsageTrend'
        type: array
      total_cost:
        type: number
      total_resources:
        type: integer
      usage_by_type:
        additionalProperties:
          type: integer
        type: object
    type: object
  models.Role:
    properties:
      created_at:
        description: |-
          The creation timestamp
          example: 2024-01-01T12:00:00Z
        type: string
      id:
        description: |-
          The unique ID of the role
          example: 123e4567-e89b-12d3-a456-426614174000
        type: string
      name:
        description: |-
          The name of the role (e.g., admin, user, moderator)
          example: admin
        type: string
      permissions:
        description: |-
          The permissions assigned to the role (0=Read, 1=Write, 2=Delete)
          example: [0,1,2]
        items:
          $ref: '#/definitions/models.Permission'
        type: array
      updated_at:
        description: |-
          The last update timestamp
          example: 2024-01-01T12:00:00Z
        type: string
    type: object
  models.SecretBodyRequest:
    properties:
      metadata:
        type: string
      name:
        type: string
      value:
        type: string
    required:
    - name
    - value
    type: object
  models.SecretResponse:
    description: A secret response without sensitive data.
    properties:
      created_at:
        type: string
      id:
        type: string
      key_version:
        type: integer
      metadata:
        type: string
      name:
        type: string
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  models.StorageBucket:
    description: A storage bucket owned by a user, containing files.
    properties:
      created_at:
        description: The creation timestamp
        type: string
      files:
        description: The files in the bucket
        items:
          $ref: '#/definitions/models.File'
        type: array
      id:
        description: The unique identifier of the bucket
        type: string
      name:
        description: The name of the bucket
        type: string
      updated_at:
        description: The last update timestamp
        type: string
      user_id:
        description: The ID of the user who owns the bucket
        type: string
    type: object
  models.UpdateSecretBody:
    properties:
      metadata:
        type: string
      value:
        type: string
    type: object
  stores.KeyVersion:
    properties:
      created_at:
        type: string
      expires_at:
        type: string
      id:
        type: string
      is_active:
        type: boolean
      key_hash:
        type: string
      user_id:
        type: string
      version:
        type: integer
    type: object
host: localhost:8080
info:
  contact:
    email: support@unicorn-api.com
    name: Unicorn API Support
    url: https://github.com/your-org/unicorn-api
  description: A comprehensive RESTful API for Unicorn services providing Identity
    and Access Management (IAM) functionality. This API supports user authentication,
    role-based access control, organization management, and JWT token handling.
  license:
    name: MIT License
    url: https://opensource.org/licenses/MIT
  termsOfService: http://swagger.io/terms/
  title: Unicorn API
  version: "1.0"
paths:
  /api/v1/buckets:
    get:
      description: List all storage buckets owned by the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.StorageBucket'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List buckets
      tags:
      - Storage
    post:
      consumes:
      - application/json
      description: Create a new storage bucket
      parameters:
      - description: Bucket name
        in: body
        name: bucket
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateBucketRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.StorageBucket'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create bucket
      tags:
      - Storage
  /api/v1/buckets/{bucket_id}/files:
    get:
      description: List all files in a storage bucket
      parameters:
      - description: Bucket ID
        in: path
        name: bucket_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.File'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List files
      tags:
      - Storage
    post:
      consumes:
      - multipart/form-data
      description: Upload a file to a storage bucket
      parameters:
      - description: Bucket ID
        in: path
        name: bucket_id
        required: true
        type: string
      - description: File to upload
        in: formData
        name: file
        required: true
        type: file
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.File'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Upload file
      tags:
      - Storage
  /api/v1/buckets/{bucket_id}/files/{file_id}:
    delete:
      description: Delete a file from a storage bucket
      parameters:
      - description: Bucket ID
        in: path
        name: bucket_id
        required: true
        type: string
      - description: File ID
        in: path
        name: file_id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Delete file
      tags:
      - Storage
    get:
      description: Download a file from a storage bucket
      parameters:
      - description: Bucket ID
        in: path
        name: bucket_id
        required: true
        type: string
      - description: File ID
        in: path
        name: file_id
        required: true
        type: string
      produces:
      - application/octet-stream
      responses:
        "200":
          description: OK
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "403":
          description: Forbidden - insufficient permissions
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Download file
      tags:
      - Storage
  /api/v1/compute/{id}:
    delete:
      consumes:
      - application/json
      description: Delete a compute container by ID
      parameters:
      - description: Container ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Container deleted successfully
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Delete a compute container
      tags:
      - Compute
  /api/v1/compute/create:
    post:
      consumes:
      - application/json
      description: Create a new compute container with the specified image and configuration
      parameters:
      - description: Compute container creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.ComputeCreateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ComputeContainerInfo'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Create a compute container
      tags:
      - Compute
  /api/v1/compute/list:
    get:
      consumes:
      - application/json
      description: List all compute containers owned by the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.ComputeContainerInfo'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: List compute containers
      tags:
      - Compute
  /api/v1/debug/token:
    get:
      consumes:
      - application/json
      description: Returns a static API token with admin permissions for testing purposes
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Get a debug API token for testing
      tags:
      - IAM
  /api/v1/lambda/execute:
    post:
      consumes:
      - application/json
      description: Execute code in a Lambda function with specified runtime and files
      parameters:
      - description: Lambda execution request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.LambdaExecuteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LambdaExecuteResponse'
        "400":
          description: Bad request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - insufficient permissions
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Execute a Lambda function
      tags:
      - Lambda
  /api/v1/lambda/test:
    post:
      consumes:
      - application/json
      description: Test a Lambda function with specified runtime and files
      parameters:
      - description: Lambda test request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.LambdaExecuteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.LambdaExecuteResponse'
        "400":
          description: Bad request
          schema:
            additionalProperties:
              type: string
            type: object
        "401":
          description: Unauthorized
          schema:
            additionalProperties:
              type: string
            type: object
        "403":
          description: Forbidden - insufficient permissions
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal server error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - BearerAuth: []
      summary: Test a Lambda function
      tags:
      - Lambda
  /api/v1/login:
    post:
      consumes:
      - application/json
      description: Authenticate a user and return a JWT token
      parameters:
      - description: Login credentials
        in: body
        name: credentials
        required: true
        schema:
          $ref: '#/definitions/handlers.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.LoginResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Login
      tags:
      - IAM
  /api/v1/monitoring/billing:
    get:
      consumes:
      - application/json
      description: Get billing history for the current organization
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.BillingPeriod'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Get billing history
      tags:
      - Monitoring
  /api/v1/monitoring/billing/generate:
    post:
      consumes:
      - application/json
      description: Generate monthly billing for a specific month
      parameters:
      - description: Year
        in: query
        name: year
        required: true
        type: integer
      - description: Month (1-12)
        in: query
        name: month
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.BillingPeriod'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Generate monthly billing
      tags:
      - Monitoring
  /api/v1/monitoring/metrics/{resource_type}/{resource_id}:
    get:
      consumes:
      - application/json
      description: Get real-time monitoring metrics for a specific resource
      parameters:
      - description: Resource ID
        in: path
        name: resource_id
        required: true
        type: string
      - description: Resource Type
        in: path
        name: resource_type
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.MonitoringMetrics'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Get monitoring metrics for a resource
      tags:
      - Monitoring
    put:
      consumes:
      - application/json
      description: Update real-time monitoring metrics for a specific resource
      parameters:
      - description: Resource ID
        in: path
        name: resource_id
        required: true
        type: string
      - description: Resource Type
        in: path
        name: resource_type
        required: true
        type: string
      - description: Monitoring metrics
        in: body
        name: metrics
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Update monitoring metrics for a resource
      tags:
      - Monitoring
  /api/v1/monitoring/resources/active:
    get:
      consumes:
      - application/json
      description: Get all active resources for the current organization
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.ResourceUsage'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Get active resources
      tags:
      - Monitoring
  /api/v1/monitoring/track/{resource_type}/{resource_id}:
    delete:
      consumes:
      - application/json
      description: Track when a resource is deleted
      parameters:
      - description: Resource ID
        in: path
        name: resource_id
        required: true
        type: string
      - description: Resource Type
        in: path
        name: resource_type
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Track resource deletion
      tags:
      - Monitoring
    put:
      consumes:
      - application/json
      description: Track when a resource is updated
      parameters:
      - description: Resource ID
        in: path
        name: resource_id
        required: true
        type: string
      - description: Resource Type
        in: path
        name: resource_type
        required: true
        type: string
      - description: Update request
        in: body
        name: request
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Track resource update
      tags:
      - Monitoring
  /api/v1/monitoring/track/create:
    post:
      consumes:
      - application/json
      description: Track when a new resource is created
      parameters:
      - description: Resource usage request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.ResourceUsageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Track resource creation
      tags:
      - Monitoring
  /api/v1/monitoring/trends:
    get:
      consumes:
      - application/json
      description: Get monthly usage trends for the current organization
      parameters:
      - description: 'Number of months (default: 6)'
        in: query
        name: months
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.MonthlyUsageTrend'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Get monthly usage trends
      tags:
      - Monitoring
  /api/v1/monitoring/usage:
    get:
      consumes:
      - application/json
      description: Get a summary of resource usage for the current organization
      parameters:
      - description: Start date (YYYY-MM-DD)
        in: query
        name: start
        type: string
      - description: End date (YYYY-MM-DD)
        in: query
        name: end
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.ResourceUsageResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Get resource usage summary
      tags:
      - Monitoring
  /api/v1/organizations:
    get:
      consumes:
      - application/json
      description: Returns the organization name and all users (name, role ID) in
        it
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.GetOrganizationsResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get the user's organization and its users
      tags:
      - IAM
    post:
      consumes:
      - application/json
      description: Create a new organization that can contain multiple accounts
      parameters:
      - description: Organization information
        in: body
        name: organization
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateOrganizationRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handlers.CreateOrganizationResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Create a new organization
      tags:
      - IAM
  /api/v1/organizations/{org_id}/users:
    post:
      consumes:
      - application/json
      description: Create a user account in a specific organization with the specified
        role
      parameters:
      - description: Organization ID
        in: path
        name: org_id
        required: true
        type: string
      - description: User information
        in: body
        name: user
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateUserRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handlers.CreateUserResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Create a user in an organization
      tags:
      - IAM
  /api/v1/rdb/{id}:
    delete:
      consumes:
      - application/json
      description: Delete a database instance by ID
      parameters:
      - description: Instance ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "204":
          description: Instance deleted successfully
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Delete an RDB instance
      tags:
      - RDB
  /api/v1/rdb/create:
    post:
      consumes:
      - application/json
      description: Create a new database instance with the specified type and configuration
      parameters:
      - description: RDB instance creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/models.RDBCreateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/models.RDBInstanceInfo'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Create an RDB instance
      tags:
      - RDB
  /api/v1/rdb/list:
    get:
      consumes:
      - application/json
      description: List all database instances owned by the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.RDBInstanceInfo'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: List RDB instances
      tags:
      - RDB
  /api/v1/roles:
    get:
      consumes:
      - application/json
      description: Returns all roles (name, permissions) for the authenticated user's
        organization
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.GetRolesResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get all roles in the user's organization
      tags:
      - IAM
    post:
      consumes:
      - application/json
      description: 'Create a new role with specified permissions. Permissions are:
        0=Read, 1=Write, 2=Delete'
      parameters:
      - description: Role information
        in: body
        name: role
        required: true
        schema:
          $ref: '#/definitions/handlers.CreateRoleRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/handlers.CreateRoleResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Create a new role
      tags:
      - IAM
  /api/v1/roles/assign:
    post:
      consumes:
      - application/json
      description: Assign a role to a user or bot account
      parameters:
      - description: Role assignment information
        in: body
        name: assignment
        required: true
        schema:
          $ref: '#/definitions/handlers.AssignRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.AssignRoleResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Assign a role to an account
      tags:
      - IAM
  /api/v1/secrets:
    get:
      description: List all secrets for the authenticated user (does not return secret
        values)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/models.SecretResponse'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: List secrets
      tags:
      - Secrets Manager
    post:
      consumes:
      - application/json
      description: Create a new secret for the authenticated user
      parameters:
      - description: Secret details to create
        in: body
        name: secret
        required: true
        schema:
          $ref: '#/definitions/models.SecretBodyRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/models.SecretResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Create secret
      tags:
      - Secrets Manager
  /api/v1/secrets/{id}:
    delete:
      description: Delete a secret for the authenticated user
      parameters:
      - description: Secret ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Delete secret
      tags:
      - Secrets Manager
    get:
      description: Get a secret and its decrypted value for the authenticated user
      parameters:
      - description: Secret ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Get secret
      tags:
      - Secrets Manager
    put:
      consumes:
      - application/json
      description: Update the value and/or metadata for a secret
      parameters:
      - description: Secret ID
        in: path
        name: id
        required: true
        type: string
      - description: Secret update
        in: body
        name: secret
        required: true
        schema:
          $ref: '#/definitions/models.UpdateSecretBody'
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Update secret
      tags:
      - Secrets Manager
  /api/v1/secrets/key-versions:
    get:
      description: Get all key versions for the authenticated user
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/stores.KeyVersion'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Get key versions
      tags:
      - Secrets Manager
  /api/v1/secrets/rotate-keys:
    post:
      description: Rotate all encryption keys for the authenticated user
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/errors.AppError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/errors.AppError'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/errors.AppError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/errors.AppError'
      security:
      - BearerAuth: []
      summary: Rotate keys
      tags:
      - Secrets Manager
  /api/v1/token/refresh:
    post:
      consumes:
      - application/json
      description: Refresh an expired JWT token
      parameters:
      - description: Refresh token request
        in: body
        name: token
        required: true
        schema:
          $ref: '#/definitions/handlers.RefreshTokenRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.RefreshTokenResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Refresh JWT token
      tags:
      - IAM
  /api/v1/token/validate:
    get:
      consumes:
      - application/json
      description: Validate a JWT token and return its claims
      parameters:
      - description: JWT token
        in: query
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.ValidateTokenResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Validate JWT token
      tags:
      - IAM
  /health:
    get:
      description: Get the health status of the API. This endpoint can be used by
        load balancers and monitoring systems to verify the API is running properly.
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/handlers.HealthCheckResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/handlers.ErrorResponse'
      summary: Health check
      tags:
      - health
securityDefinitions:
  BearerAuth:
    description: '"Type ''Bearer '' + your JWT token to authorize"'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
